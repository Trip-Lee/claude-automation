{
  "_metadata": {
    "table": "sys_script_include",
    "sys_id": "0635c74bc3ebc65085b196c4e40131f0",
    "extracted_at": "2025-09-19T21:48:29.390Z",
    "display_value": "MultiRefListMS",
    "application": "Tenon_Marketing_Work_Management",
    "scope": {
      "display_value": "Tenon Marketing Work Management",
      "link": "https://tenonworkstudio.service-now.com/api/now/table/sys_scope/4e4449a5475c255085d19fd8036d43a0",
      "value": "4e4449a5475c255085d19fd8036d43a0"
    }
  },
  "client_callable": {
    "value": "false",
    "display_value": "false"
  },
  "access": {
    "value": "public",
    "display_value": "All application scopes"
  },
  "mobile_callable": {
    "value": "false",
    "display_value": "false"
  },
  "sys_mod_count": {
    "value": "17",
    "display_value": "17"
  },
  "active": {
    "value": "true",
    "display_value": "true"
  },
  "description": {
    "value": "",
    "display_value": ""
  },
  "sys_updated_on": {
    "value": "2024-11-25 19:14:51",
    "display_value": "2024-11-25 11:14:51 AM"
  },
  "sys_tags": {
    "value": "",
    "display_value": ""
  },
  "sandbox_callable": {
    "value": "false",
    "display_value": "false"
  },
  "script": {
    "value": "var MultiRefListMS = Class.create();\r\nMultiRefListMS.prototype = {\r\n    initialize: function() {\r\n\r\n    },\r\n\r\n\tgetIcons: function({ table }) {\r\n\t\tconst icons = {\r\n\t\t\tsys_user: \"general_building02\",\r\n\t\t};\r\n\r\n\t\treturn icons[table];\r\n\t},\r\n\r\n    fetch: function({\r\n        tableArr,\r\n        searchValue\r\n    }) {\r\n        const records = {};\r\n        for (var x = 0; x < tableArr.length; x++) {\r\n            const {\r\n                table,\r\n                limit = 10,\r\n                encodedQuery = ''\r\n            } = tableArr[x];\r\n\r\n\t\t\trecords[table] = [];\r\n\t\t\t\r\n            const tableGr = new GlideRecordSecure(table);\r\n            if (searchValue) {\r\n                tableGr.addQuery(tableGr.getDisplayName(), 'CONTAINS', searchValue);\r\n            }\r\n\r\n            if (encodedQuery) {\r\n                tableGr.addEncodedQuery(encodedQuery, true);\r\n            }\r\n\r\n\t\t\ttableGr.orderBy(tableGr.getDisplayName());\r\n            tableGr.setLimit(limit);\r\n            tableGr.query();\r\n\r\n            while (tableGr.next()) {\r\n                records[table].push({\r\n                    displayValue: tableGr.getDisplayValue(),\r\n                    value: tableGr.getUniqueValue(),\r\n                    avatar: this.getAvatar({ tableGr }),\r\n\t\t\t\t\ticon: this.getIcons({ table })\r\n                });\r\n            }\r\n        }\r\n\t\t\r\n\t\treturn records;\r\n    },\r\n\r\n    getAvatar: function({\r\n        tableGr\r\n    }) {\r\n\t\tlet userAvatar = '';\r\n        if (tableGr.isValidField('avatar')) {\r\n            let avatar = tableGr.getValue('avatar');\r\n            avatar = avatar == null ? '' : avatar;\r\n\t\t\tuserAvatar = avatar;\r\n        }\r\n\r\n        if (!userAvatar && tableGr.isValidField('photo')) {\r\n\t\t\tlet photo = tableGr.getValue('photo');\r\n\t\t\tphoto = photo == null ? '' : photo;\r\n\t\t\tuserAvatar = photo;\r\n        }\r\n\t\t\r\n        return userAvatar ? userAvatar + '.iix' : '';\r\n    },\r\n\r\n    type: 'MultiRefListMS'\r\n};",
    "display_value": "var MultiRefListMS = Class.create();\r\nMultiRefListMS.prototype = {\r\n    initialize: function() {\r\n\r\n    },\r\n\r\n\tgetIcons: function({ table }) {\r\n\t\tconst icons = {\r\n\t\t\tsys_user: \"general_building02\",\r\n\t\t};\r\n\r\n\t\treturn icons[table];\r\n\t},\r\n\r\n    fetch: function({\r\n        tableArr,\r\n        searchValue\r\n    }) {\r\n        const records = {};\r\n        for (var x = 0; x < tableArr.length; x++) {\r\n            const {\r\n                table,\r\n                limit = 10,\r\n                encodedQuery = ''\r\n            } = tableArr[x];\r\n\r\n\t\t\trecords[table] = [];\r\n\t\t\t\r\n            const tableGr = new GlideRecordSecure(table);\r\n            if (searchValue) {\r\n                tableGr.addQuery(tableGr.getDisplayName(), 'CONTAINS', searchValue);\r\n            }\r\n\r\n            if (encodedQuery) {\r\n                tableGr.addEncodedQuery(encodedQuery, true);\r\n            }\r\n\r\n\t\t\ttableGr.orderBy(tableGr.getDisplayName());\r\n            tableGr.setLimit(limit);\r\n            tableGr.query();\r\n\r\n            while (tableGr.next()) {\r\n                records[table].push({\r\n                    displayValue: tableGr.getDisplayValue(),\r\n                    value: tableGr.getUniqueValue(),\r\n                    avatar: this.getAvatar({ tableGr }),\r\n\t\t\t\t\ticon: this.getIcons({ table })\r\n                });\r\n            }\r\n        }\r\n\t\t\r\n\t\treturn records;\r\n    },\r\n\r\n    getAvatar: function({\r\n        tableGr\r\n    }) {\r\n\t\tlet userAvatar = '';\r\n        if (tableGr.isValidField('avatar')) {\r\n            let avatar = tableGr.getValue('avatar');\r\n            avatar = avatar == null ? '' : avatar;\r\n\t\t\tuserAvatar = avatar;\r\n        }\r\n\r\n        if (!userAvatar && tableGr.isValidField('photo')) {\r\n\t\t\tlet photo = tableGr.getValue('photo');\r\n\t\t\tphoto = photo == null ? '' : photo;\r\n\t\t\tuserAvatar = photo;\r\n        }\r\n\t\t\r\n        return userAvatar ? userAvatar + '.iix' : '';\r\n    },\r\n\r\n    type: 'MultiRefListMS'\r\n};",
    "formatted_script": {
      "line_count": 75,
      "char_count": 1902,
      "preview": "var MultiRefListMS = Class.create();\r\nMultiRefListMS.prototype = {\r\n    initialize: function() {\r\n\r\n    },\r\n\r\n\tgetIcons: function({ table }) {\r\n\t\tconst icons = {\r\n\t\t\tsys_user: \"general_building02\",\r\n\t...",
      "full_script": "var MultiRefListMS = Class.create();\r\nMultiRefListMS.prototype = {\r\n    initialize: function() {\r\n\r\n    },\r\n\r\n\tgetIcons: function({ table }) {\r\n\t\tconst icons = {\r\n\t\t\tsys_user: \"general_building02\",\r\n\t\t};\r\n\r\n\t\treturn icons[table];\r\n\t},\r\n\r\n    fetch: function({\r\n        tableArr,\r\n        searchValue\r\n    }) {\r\n        const records = {};\r\n        for (var x = 0; x < tableArr.length; x++) {\r\n            const {\r\n                table,\r\n                limit = 10,\r\n                encodedQuery = ''\r\n            } = tableArr[x];\r\n\r\n\t\t\trecords[table] = [];\r\n\t\t\t\r\n            const tableGr = new GlideRecordSecure(table);\r\n            if (searchValue) {\r\n                tableGr.addQuery(tableGr.getDisplayName(), 'CONTAINS', searchValue);\r\n            }\r\n\r\n            if (encodedQuery) {\r\n                tableGr.addEncodedQuery(encodedQuery, true);\r\n            }\r\n\r\n\t\t\ttableGr.orderBy(tableGr.getDisplayName());\r\n            tableGr.setLimit(limit);\r\n            tableGr.query();\r\n\r\n            while (tableGr.next()) {\r\n                records[table].push({\r\n                    displayValue: tableGr.getDisplayValue(),\r\n                    value: tableGr.getUniqueValue(),\r\n                    avatar: this.getAvatar({ tableGr }),\r\n\t\t\t\t\ticon: this.getIcons({ table })\r\n                });\r\n            }\r\n        }\r\n\t\t\r\n\t\treturn records;\r\n    },\r\n\r\n    getAvatar: function({\r\n        tableGr\r\n    }) {\r\n\t\tlet userAvatar = '';\r\n        if (tableGr.isValidField('avatar')) {\r\n            let avatar = tableGr.getValue('avatar');\r\n            avatar = avatar == null ? '' : avatar;\r\n\t\t\tuserAvatar = avatar;\r\n        }\r\n\r\n        if (!userAvatar && tableGr.isValidField('photo')) {\r\n\t\t\tlet photo = tableGr.getValue('photo');\r\n\t\t\tphoto = photo == null ? '' : photo;\r\n\t\t\tuserAvatar = photo;\r\n        }\r\n\t\t\r\n        return userAvatar ? userAvatar + '.iix' : '';\r\n    },\r\n\r\n    type: 'MultiRefListMS'\r\n};"
    }
  },
  "sys_class_name": {
    "value": "sys_script_include",
    "display_value": "Script Include"
  },
  "sys_package": {
    "value": "4e4449a5475c255085d19fd8036d43a0",
    "display_value": "Tenon Marketing Work Management"
  },
  "sys_update_name": {
    "value": "sys_script_include_0635c74bc3ebc65085b196c4e40131f0",
    "display_value": "sys_script_include_0635c74bc3ebc65085b196c4e40131f0"
  },
  "sys_updated_by": {
    "value": "admin",
    "display_value": "admin"
  },
  "api_name": {
    "value": "x_cadso_work.MultiRefListMS",
    "display_value": "x_cadso_work.MultiRefListMS"
  },
  "sys_created_on": {
    "value": "2024-07-27 02:10:53",
    "display_value": "2024-07-26 07:10:53 PM"
  },
  "caller_access": {
    "value": "",
    "display_value": null
  },
  "name": {
    "value": "MultiRefListMS",
    "display_value": "MultiRefListMS"
  },
  "sys_name": {
    "value": "MultiRefListMS",
    "display_value": "MultiRefListMS"
  },
  "sys_scope": {
    "value": "4e4449a5475c255085d19fd8036d43a0",
    "display_value": "Tenon Marketing Work Management"
  },
  "sys_created_by": {
    "value": "admin",
    "display_value": "admin"
  },
  "sys_policy": {
    "value": "read",
    "display_value": "Read-only"
  }
}
