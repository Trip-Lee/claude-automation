{
  "_metadata": {
    "table": "sys_script_include",
    "sys_id": "18eb80464722861098519fd8036d430a",
    "extracted_at": "2025-09-19T21:48:29.534Z",
    "display_value": "UiFavoritesUtilMS",
    "application": "Tenon_Marketing_Work_Management",
    "scope": {
      "display_value": "Tenon Marketing Work Management",
      "link": "https://tenonworkstudio.service-now.com/api/now/table/sys_scope/4e4449a5475c255085d19fd8036d43a0",
      "value": "4e4449a5475c255085d19fd8036d43a0"
    }
  },
  "client_callable": {
    "value": "false",
    "display_value": "false"
  },
  "access": {
    "value": "package_private",
    "display_value": "This application scope only"
  },
  "mobile_callable": {
    "value": "false",
    "display_value": "false"
  },
  "sys_mod_count": {
    "value": "50",
    "display_value": "50"
  },
  "active": {
    "value": "true",
    "display_value": "true"
  },
  "description": {
    "value": "",
    "display_value": ""
  },
  "sys_updated_on": {
    "value": "2024-10-11 02:45:58",
    "display_value": "2024-10-10 07:45:58 PM"
  },
  "sys_tags": {
    "value": "",
    "display_value": ""
  },
  "sandbox_callable": {
    "value": "false",
    "display_value": "false"
  },
  "script": {
    "value": "const UiFavoritesUtilMS = Class.create();\nUiFavoritesUtilMS.prototype = {\n\tinitialize: function() {},\n\t\n\tgetFavorites: function ({ userId = gs.getUserID() }) {\n\t\tconst favoriteArray = [];\n\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.orderBy(\"order\");\n\t\tuserFavoriteGr.query();\n\t\twhile (userFavoriteGr.next()) {\n\t\t\tconst favoriteObj = {\n\t\t\t\torder: userFavoriteGr.getDisplayValue(\"order\"),\n\t\t\t\troute: userFavoriteGr.getDisplayValue(\"route\"),\n\t\t\t\trequired_parameters: userFavoriteGr.getDisplayValue(\"required_parameters\"),\n\t\t\t\toptional_parameters: userFavoriteGr.getDisplayValue(\"optional_parameters\"),\n\t\t\t};\n\n\t\t\tfavoriteArray.push(favoriteObj);\n\t\t}\n\t\treturn { favorites: favoriteArray };\n\t},\n\n\tgetFavorite: function ({ userId = gs.getUserID(), route = {}, params = {}, fields }) {\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.addQuery(\"route\", route);\n\t\tuserFavoriteGr.addQuery(\"required_parameters\", this.checkForBoolean(fields));\n\t\tuserFavoriteGr.addQuery(\"optional_parameters\", this.checkForBoolean(params));\n\t\tuserFavoriteGr.query();\n\t\treturn { favored: userFavoriteGr.hasNext() };\n\t},\n\n\tsetFavorite: function ({ userId = gs.getUserID(), route, params = {}, fields = {}, remove, table }) {\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.addQuery(\"route\", route);\n\t\tuserFavoriteGr.addQuery(\"required_parameters\", this.checkForBoolean(fields));\n\t\tuserFavoriteGr.addQuery(\"optional_parameters\", this.checkForBoolean(params));\n\t\tconst query = userFavoriteGr.getEncodedQuery();\n\t\tuserFavoriteGr.query();\n\t\tlet favored = false;\n\n\t\tif (userFavoriteGr.next()) {\n\t\t\tif (remove) {\n\t\t\t\tfavored = !userFavoriteGr.deleteRecord();\n\t\t\t} else {\n\t\t\t\tfavored = true;\n\t\t\t}\n\t\t} else {\n\t\t\tuserFavoriteGr.initialize();\n\t\t\tuserFavoriteGr.newRecord();\n\t\t\tuserFavoriteGr.applyEncodedQuery(query);\n\t\t\tlet displayValue = this.getDisplayValue({ route });\n\t\t\tif (table && (fields.sysId || params.sysId)) {\n\t\t\t\tconst tableGr = new GlideRecord(table);\n\t\t\t\tconst sysId = fields.sysId || params.sysId;\n\t\t\t\tif (tableGr.get(sysId)) {\n\t\t\t\t\tdisplayValue += ' - ' + tableGr.getDisplayValue();\n\t\t\t\t}\n\t\t\t}\n\t\t\tuserFavoriteGr.setValue('name', displayValue)\n\t\t\tfavored = !!userFavoriteGr.insert();\n\t\t}\n\n\t\treturn { favored };\n\t},\n\n\tgetDisplayValue: function({ route = '' }) {\n\t\treturn route.split('-').map((name) => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\n\t},\n\n\tcheckForBoolean: function(obj = {}) {\n\t\tlet keys = [];\n\t\ttry {\n\t\t\tkeys = Object.keys(obj);\n\t\t} catch (e) {\n\t\t\tgs.error('Tenon - SI - UiFavoritesUtilMS: ' + e);\n\t\t}\n\t\t\n\t\tfor (var x = 0; x < keys.length; x++) {\n\t\t\tconst key = keys[x];\n\t\t\tlet value = obj[key];\n\t\t\tif (typeof value === 'boolean') {\n\t\t\t\tvalue += '';\n\t\t\t\tobj[key] = value;\n\t\t\t} else if (key === 'forceLoad') {\n\t\t\t\tobj[key] = 'true';\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn JSON.stringify(obj);\n\t},\n\n\ttype: \"UiFavoritesUtilMS\",\n};\n",
    "display_value": "const UiFavoritesUtilMS = Class.create();\nUiFavoritesUtilMS.prototype = {\n\tinitialize: function() {},\n\t\n\tgetFavorites: function ({ userId = gs.getUserID() }) {\n\t\tconst favoriteArray = [];\n\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.orderBy(\"order\");\n\t\tuserFavoriteGr.query();\n\t\twhile (userFavoriteGr.next()) {\n\t\t\tconst favoriteObj = {\n\t\t\t\torder: userFavoriteGr.getDisplayValue(\"order\"),\n\t\t\t\troute: userFavoriteGr.getDisplayValue(\"route\"),\n\t\t\t\trequired_parameters: userFavoriteGr.getDisplayValue(\"required_parameters\"),\n\t\t\t\toptional_parameters: userFavoriteGr.getDisplayValue(\"optional_parameters\"),\n\t\t\t};\n\n\t\t\tfavoriteArray.push(favoriteObj);\n\t\t}\n\t\treturn { favorites: favoriteArray };\n\t},\n\n\tgetFavorite: function ({ userId = gs.getUserID(), route = {}, params = {}, fields }) {\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.addQuery(\"route\", route);\n\t\tuserFavoriteGr.addQuery(\"required_parameters\", this.checkForBoolean(fields));\n\t\tuserFavoriteGr.addQuery(\"optional_parameters\", this.checkForBoolean(params));\n\t\tuserFavoriteGr.query();\n\t\treturn { favored: userFavoriteGr.hasNext() };\n\t},\n\n\tsetFavorite: function ({ userId = gs.getUserID(), route, params = {}, fields = {}, remove, table }) {\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.addQuery(\"route\", route);\n\t\tuserFavoriteGr.addQuery(\"required_parameters\", this.checkForBoolean(fields));\n\t\tuserFavoriteGr.addQuery(\"optional_parameters\", this.checkForBoolean(params));\n\t\tconst query = userFavoriteGr.getEncodedQuery();\n\t\tuserFavoriteGr.query();\n\t\tlet favored = false;\n\n\t\tif (userFavoriteGr.next()) {\n\t\t\tif (remove) {\n\t\t\t\tfavored = !userFavoriteGr.deleteRecord();\n\t\t\t} else {\n\t\t\t\tfavored = true;\n\t\t\t}\n\t\t} else {\n\t\t\tuserFavoriteGr.initialize();\n\t\t\tuserFavoriteGr.newRecord();\n\t\t\tuserFavoriteGr.applyEncodedQuery(query);\n\t\t\tlet displayValue = this.getDisplayValue({ route });\n\t\t\tif (table && (fields.sysId || params.sysId)) {\n\t\t\t\tconst tableGr = new GlideRecord(table);\n\t\t\t\tconst sysId = fields.sysId || params.sysId;\n\t\t\t\tif (tableGr.get(sysId)) {\n\t\t\t\t\tdisplayValue += ' - ' + tableGr.getDisplayValue();\n\t\t\t\t}\n\t\t\t}\n\t\t\tuserFavoriteGr.setValue('name', displayValue)\n\t\t\tfavored = !!userFavoriteGr.insert();\n\t\t}\n\n\t\treturn { favored };\n\t},\n\n\tgetDisplayValue: function({ route = '' }) {\n\t\treturn route.split('-').map((name) => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\n\t},\n\n\tcheckForBoolean: function(obj = {}) {\n\t\tlet keys = [];\n\t\ttry {\n\t\t\tkeys = Object.keys(obj);\n\t\t} catch (e) {\n\t\t\tgs.error('Tenon - SI - UiFavoritesUtilMS: ' + e);\n\t\t}\n\t\t\n\t\tfor (var x = 0; x < keys.length; x++) {\n\t\t\tconst key = keys[x];\n\t\t\tlet value = obj[key];\n\t\t\tif (typeof value === 'boolean') {\n\t\t\t\tvalue += '';\n\t\t\t\tobj[key] = value;\n\t\t\t} else if (key === 'forceLoad') {\n\t\t\t\tobj[key] = 'true';\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn JSON.stringify(obj);\n\t},\n\n\ttype: \"UiFavoritesUtilMS\",\n};\n",
    "formatted_script": {
      "line_count": 98,
      "char_count": 3054,
      "preview": "const UiFavoritesUtilMS = Class.create();\nUiFavoritesUtilMS.prototype = {\n\tinitialize: function() {},\n\t\n\tgetFavorites: function ({ userId = gs.getUserID() }) {\n\t\tconst favoriteArray = [];\n\n\t\tconst use...",
      "full_script": "const UiFavoritesUtilMS = Class.create();\nUiFavoritesUtilMS.prototype = {\n\tinitialize: function() {},\n\t\n\tgetFavorites: function ({ userId = gs.getUserID() }) {\n\t\tconst favoriteArray = [];\n\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.orderBy(\"order\");\n\t\tuserFavoriteGr.query();\n\t\twhile (userFavoriteGr.next()) {\n\t\t\tconst favoriteObj = {\n\t\t\t\torder: userFavoriteGr.getDisplayValue(\"order\"),\n\t\t\t\troute: userFavoriteGr.getDisplayValue(\"route\"),\n\t\t\t\trequired_parameters: userFavoriteGr.getDisplayValue(\"required_parameters\"),\n\t\t\t\toptional_parameters: userFavoriteGr.getDisplayValue(\"optional_parameters\"),\n\t\t\t};\n\n\t\t\tfavoriteArray.push(favoriteObj);\n\t\t}\n\t\treturn { favorites: favoriteArray };\n\t},\n\n\tgetFavorite: function ({ userId = gs.getUserID(), route = {}, params = {}, fields }) {\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.addQuery(\"route\", route);\n\t\tuserFavoriteGr.addQuery(\"required_parameters\", this.checkForBoolean(fields));\n\t\tuserFavoriteGr.addQuery(\"optional_parameters\", this.checkForBoolean(params));\n\t\tuserFavoriteGr.query();\n\t\treturn { favored: userFavoriteGr.hasNext() };\n\t},\n\n\tsetFavorite: function ({ userId = gs.getUserID(), route, params = {}, fields = {}, remove, table }) {\n\t\tconst userFavoriteGr = new GlideRecord(\"x_cadso_work_favorite\");\n\t\tuserFavoriteGr.addQuery(\"user\", userId);\n\t\tuserFavoriteGr.addQuery(\"route\", route);\n\t\tuserFavoriteGr.addQuery(\"required_parameters\", this.checkForBoolean(fields));\n\t\tuserFavoriteGr.addQuery(\"optional_parameters\", this.checkForBoolean(params));\n\t\tconst query = userFavoriteGr.getEncodedQuery();\n\t\tuserFavoriteGr.query();\n\t\tlet favored = false;\n\n\t\tif (userFavoriteGr.next()) {\n\t\t\tif (remove) {\n\t\t\t\tfavored = !userFavoriteGr.deleteRecord();\n\t\t\t} else {\n\t\t\t\tfavored = true;\n\t\t\t}\n\t\t} else {\n\t\t\tuserFavoriteGr.initialize();\n\t\t\tuserFavoriteGr.newRecord();\n\t\t\tuserFavoriteGr.applyEncodedQuery(query);\n\t\t\tlet displayValue = this.getDisplayValue({ route });\n\t\t\tif (table && (fields.sysId || params.sysId)) {\n\t\t\t\tconst tableGr = new GlideRecord(table);\n\t\t\t\tconst sysId = fields.sysId || params.sysId;\n\t\t\t\tif (tableGr.get(sysId)) {\n\t\t\t\t\tdisplayValue += ' - ' + tableGr.getDisplayValue();\n\t\t\t\t}\n\t\t\t}\n\t\t\tuserFavoriteGr.setValue('name', displayValue)\n\t\t\tfavored = !!userFavoriteGr.insert();\n\t\t}\n\n\t\treturn { favored };\n\t},\n\n\tgetDisplayValue: function({ route = '' }) {\n\t\treturn route.split('-').map((name) => name.charAt(0).toUpperCase() + name.slice(1)).join(' ');\n\t},\n\n\tcheckForBoolean: function(obj = {}) {\n\t\tlet keys = [];\n\t\ttry {\n\t\t\tkeys = Object.keys(obj);\n\t\t} catch (e) {\n\t\t\tgs.error('Tenon - SI - UiFavoritesUtilMS: ' + e);\n\t\t}\n\t\t\n\t\tfor (var x = 0; x < keys.length; x++) {\n\t\t\tconst key = keys[x];\n\t\t\tlet value = obj[key];\n\t\t\tif (typeof value === 'boolean') {\n\t\t\t\tvalue += '';\n\t\t\t\tobj[key] = value;\n\t\t\t} else if (key === 'forceLoad') {\n\t\t\t\tobj[key] = 'true';\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn JSON.stringify(obj);\n\t},\n\n\ttype: \"UiFavoritesUtilMS\",\n};\n"
    }
  },
  "sys_class_name": {
    "value": "sys_script_include",
    "display_value": "Script Include"
  },
  "sys_package": {
    "value": "4e4449a5475c255085d19fd8036d43a0",
    "display_value": "Tenon Marketing Work Management"
  },
  "sys_update_name": {
    "value": "sys_script_include_18eb80464722861098519fd8036d430a",
    "display_value": "sys_script_include_18eb80464722861098519fd8036d430a"
  },
  "sys_updated_by": {
    "value": "trevor.offen",
    "display_value": "trevor.offen"
  },
  "api_name": {
    "value": "x_cadso_work.UiFavoritesUtilMS",
    "display_value": "x_cadso_work.UiFavoritesUtilMS"
  },
  "sys_created_on": {
    "value": "2024-06-03 17:05:09",
    "display_value": "2024-06-03 10:05:09 AM"
  },
  "caller_access": {
    "value": "",
    "display_value": null
  },
  "name": {
    "value": "UiFavoritesUtilMS",
    "display_value": "UiFavoritesUtilMS"
  },
  "sys_name": {
    "value": "UiFavoritesUtilMS",
    "display_value": "UiFavoritesUtilMS"
  },
  "sys_scope": {
    "value": "4e4449a5475c255085d19fd8036d43a0",
    "display_value": "Tenon Marketing Work Management"
  },
  "sys_created_by": {
    "value": "kristin.keys",
    "display_value": "kristin.keys"
  },
  "sys_policy": {
    "value": "read",
    "display_value": "Read-only"
  }
}
